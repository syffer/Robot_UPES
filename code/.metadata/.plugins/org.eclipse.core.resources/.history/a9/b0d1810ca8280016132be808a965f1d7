package view;

import java.awt.Container;
import java.io.File;

import javax.imageio.ImageIO;
import javax.swing.JDesktopPane;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.filechooser.FileFilter;
import javax.swing.filechooser.FileNameExtensionFilter;


public class View extends JFrame {
	
	private static final long serialVersionUID = 2118299654730994785L;

	private Container container;
	
	// menu 
	public JMenuItem menuLoad;
	public JMenuItem menuSave;
	public JMenuItem menuSaveAs;
	
	// internals windows 
	public JDesktopPane desktop;
	
	// open and save file 
	public JFileChooser fileChooserOpen;
	
	
	
	public View() {
		super("Robot");
		
		this.container = this.getContentPane();
		
		
		this.initialiseMenuBar();
		this.initialiseFileChooser();
		
		this.desktop = new JDesktopPane();
		this.add(desktop);
		
		this.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE); // close the window when you clic en "x" 
		this.pack();
		this.setSize(600, 600);
		
		this.setVisible(true);
	}
	
	
	
	private void initialiseMenuBar() {
		JMenuBar menuBar = new JMenuBar();
		
		JMenu menuFile = new JMenu("File");
		this.menuLoad = new JMenuItem("Load");
		this.menuSave = new JMenuItem("Save");
		this.menuSaveAs = new JMenuItem("Save as ...");
		menuFile.add(this.menuLoad);
		menuFile.add(this.menuSave);
		menuFile.add(this.menuSaveAs);
		
		menuBar.add(menuFile);
		
		this.setJMenuBar(menuBar);
	}
	
	private void initialiseFileChooser() {
		
		this.fileChooserOpen = new JFileChooser();
		
		FileFilter filter = new FileNameExtensionFilter("Image files", ImageIO.getReaderFileSuffixes());
		
		this.fileChooserOpen.setFileFilter(filter);
		
	}
	
	
	
	public File getFileToLoad() throws JFileChooserException {
		
		int results = this.fileChooserOpen.showOpenDialog(this);
		
		if(results != JFileChooser.APPROVE_OPTION) throw new JFileChooserException("");
		
		File file = this.fileChooserOpen.getSelectedFile();
		
		return file;
	}	
	
	
	
	
}